<div class="container" fxLayout="row wrap" fxLayoutAlign="space-between center">
  <div fxFlex="45">

    <form *ngIf="!edit" [formGroup]="searchMovieForm" (ngSubmit)="searchMovie()"
      fxLayout="column" fxLayoutAlign="space-around start">
      <h4 matLine>Search Movie</h4>

      <div fxFlex>
        <div fxLayout="row wrap" fxLayoutAlign="space-around center">
          <mat-form-field fxFlex style="margin: 0 5px">
            <mat-label>Title</mat-label>
            <input matInput formControlName="movieTitle" type="text" required>
          </mat-form-field>
          <mat-form-field fxFlex style="margin: 0 5px">
            <mat-label>Year</mat-label>
            <input matInput formControlName="movieYear" type="text">
          </mat-form-field>
        </div>
      </div>
      <button fxFlex mat-icon-button class="search-button" color="accent" type="submit">
        <i class="fas fa-search"></i> Search
      </button>
    </form>




    <form [formGroup]="reviewForm" fxLayout="column" fxLayoutAlign="space-between center"
     (ngSubmit)="edit ? updateReview() : saveNewReview()">
      <mat-form-field fxFlex>
        <mat-label>Title</mat-label>
        <input matInput formControlName="title" type="text">
      </mat-form-field>
      <mat-form-field fxFlex appearance="standard">
        <mat-label>Description</mat-label>
        <textarea matInput rows="2" formControlName="description"></textarea>
      </mat-form-field>
      <mat-form-field fxFlex appearance="standard">
        <mat-label>Image URL</mat-label>
        <input matInput type="url" formControlName="image">
      </mat-form-field>
      <button mat-flat-button type="submit">Save</button>
    </form>
  </div>

  <div fxFlex="45">
    <mat-card class="form-card">
      <mat-card-title-group style="margin: 10px 0;">
        <mat-card-title>{{ review.movieTitle ? review.movieTitle : 'Movie Title' }}</mat-card-title>
        <mat-card-subtitle style="margin-bottom: 5px;">
          Type - {{ review.movieYear ? review.movieYear: 'Movie Year' }}
        </mat-card-subtitle>
        <div>
          <i class="fas fa-star" style="color: gold; margin-right: 3px;"></i>
          {{ review.movieRating ? review.movieRating : 0.0 }} 
          <!-- <img src="/assets/imdb-icon.png" alt="IMDb">  -->
          <mat-chip selected="true" color="primary">IMDb</mat-chip>
        </div>
      </mat-card-title-group>
      <img mat-card-image [src]="(!review.moviePoster || review.moviePoster=='N/A')? 
      '/assets/no-image.png' : review.moviePoster">
      <mat-card-content *ngIf="review">
        <p>{{ review.moviePlot }}</p>
        <!-- <p>{{ reviewForm.value.created_at | date: 'yyyy-MMM-dd' }}</p> -->
        <mat-chip-list>
          <mat-chip selected="true" color="accent" style="font-size: small;" *ngFor="let genre of review.movieGenre">
            {{ genre }}
          </mat-chip>
        </mat-chip-list>
      </mat-card-content>
    </mat-card>
  </div>
</div>